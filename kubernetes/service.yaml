apiVersion: v1
kind: Service
metadata:
  name: fz-vault-service
  namespace: default
  labels:
    app: fz-vault           # This is what ServiceMonitor looks for
spec:
  selector:
    app: fz-vault           # This must match the labels in your deployment.yaml
  ports:
    - name: http            # This name 'http' must match your ServiceMonitor
      protocol: TCP
      port: 80              # The service port
      targetPort: 8000      # The port your FastAPI app is actually listening on
  type: ClusterIP